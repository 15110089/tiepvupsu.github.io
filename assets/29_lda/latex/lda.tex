\documentclass{standalone}
% 

% \pgfmathdeclarefunction{gauss}{2}{%
%   \pgfmathparse{1/(#2*sqrt(2*pi))*exp(-((x-#1)^2)/(2*#2^2))}%
% }
\usepackage{tkz-euclide}
\usetkzobj{all}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{calc,tikz}
\usetikzlibrary{calc}
\usepackage{pgfplots}
\begin{document}
\begin{tikzpicture}[>=stealth]
    \def\normaltwo{\x,{4*1/exp(((\x-0)^2)/2)}}
    % \node [scale = 2] at (6.5, 3.3) {PCA procedure};
    %%%%%%%%% block 1%%%%%%%%%%%%%%%%%
    \tkzDefPoint(-15, 6){A}
    \tkzDefPoint(12, 2){B}
    \draw [ very thick] (A) -- (B);

    \begin{scope}
        % \draw [rounded corners = 2pt, thick] (-2.7, -3.2) rectangle (3.3, 2.75);
        \begin{scope}[rotate = 0]
            \foreach \x/\y/\z in {0.57/-0.24/0, 2.14/-0.44/1, 2.9/-0.03/2, -1.38/-0.36/3, 1.14/0.13/4, 1.48/-0.03/5, -1.17/0.03/6, -2.43/-0.05/7, -1.68/0.4/8, 0.93/-0.13/9, -1.04/0.33/10, -1.27/-0.04/11, 1.13/-0.24/12, 2.53/0.08/13, 3.16/0.0/14, 5.57/0.13/15, 0.37/-0.42/16, 0.52/-0.44/17, -0.58/-0.1/18, 1.79/-0.1/19, -0.56/-0.25/20, -0.73/-0.18/21, 3.63/-0.27/22, -2.3/-0.2/23, 2.18/-0.61/24, 2.78/-0.29/25, -1.99/-0.42/26, 0.89/-0.22/27, 0.32/0.0/28, -4.83/-0.03/29, 0.76/-0.41/30, -2.69/-0.03/31, 3.12/0.45/32, 3.42/-0.28/33, 1.11/-0.17/34, 1.38/-0.03/35, -3.71/0.18/36, -4.16/0.74/37, 5.41/-0.21/38, -0.1/0.03/39, 0.74/0.19/40, -3.31/-0.33/41, 1.68/0.14/42, -1.32/-0.42/43, 0.73/-0.13/44, 1.97/0.34/45, 1.4/0.1/46, 0.58/0.28/47, -1.46/-0.5/48, 1.19/0.09/49, 0.6/-0.04/50, -4.5/0.92/51, 5.48/-0.16/52, 1.67/0.03/53, 0.51/0.11/54, 2.15/-0.21/55, 1.43/0.22/56, -5.1/0.46/57, 1.31/-0.18/58, 0.1/0.16/59, -0.57/0.17/60, -4.1/0.07/61, 2.22/0.24/62, 0.44/-0.25/63, 0.14/-0.38/64, 0.24/-0.06/65, 1.0/0.44/66, 1.7/-0.26/67, -1.93/-0.27/68, -1.74/-0.33/69, 3.98/0.41/70, -1.18/0.02/71, 4.96/-0.56/72, 0.79/0.63/73, 0.3/-0.17/74, 2.54/0.71/75, -0.37/0.38/76, -1.92/0.08/77, 1.28/-0.14/78, -1.06/0.2/79, 1.75/-0.33/80, -1.21/0.13/81, -3.08/-0.32/82, 0.65/0.25/83, 0.55/-0.02/84, 3.36/0.06/85, -1.06/-0.65/86, 1.05/-0.14/87, -0.7/-0.03/88, -1.72/0.15/89, -0.28/0.84/90, -1.31/0.09/91, -1.22/0.23/92, -1.77/0.02/93, 0.15/0.13/94, -3.76/0.18/95, 0.2/0.37/96, -1.59/-0.04/97, -1.92/-0.27/98, 1.26/0.17/99} {
                % \draw [fill = blue] (\x, \y) circle (1mm); 
                \tkzDefPoint(\x, \y){x\z}
                \draw [fill = blue!60] (\x, \y) circle (1mm); 
                \tkzDefPointBy[projection=onto B--A](x\z)
                \tkzGetPoint{H\z}
                \tkzDrawLines[add = 0 and 0, ultra thin, gray, opacity = .3](x\z,H\z)
                \draw [fill = blue!60] (H\z) circle (1mm); 
                % \draw [fill = red] (\x-2, \y+2) circle (1mm); 

                }
        \end{scope}

        \begin{scope}[rotate = 0, xshift  = -4cm, yshift = 2cm]
            \foreach \x/\y/\z in {-0.28/0.04/0, 0.62/0.24/1, 1.17/0.57/2, -0.05/0.47/3, -0.64/0.18/4, 0.54/0.24/5, 0.07/0.56/6, -4.07/0.27/7, 1.4/0.24/8, 3.5/0.42/9, -2.81/0.36/10, -0.88/0.07/11, 0.9/-0.27/12, -2.74/0.05/13, 0.29/-0.18/14, -1.83/0.0/15, -0.6/-0.02/16, 3.7/0.18/17, 2.68/-0.2/18, 3.21/-0.01/19, 0.27/0.02/20, 0.73/-0.49/21, 0.0/0.22/22, 2.86/0.14/23, -1.33/-0.44/24, 0.66/-0.57/25, -0.27/0.17/26, 0.21/-0.08/27, -3.79/-0.01/28, 2.12/-0.08/29, -0.83/0.13/30, 1.41/0.28/31, -1.74/-0.15/32, 0.61/0.32/33, 2.81/-0.19/34, 1.79/0.42/35, 0.57/-0.07/36, -1.95/0.34/37, -0.01/0.46/38, 3.58/-0.42/39, -0.94/-0.03/40, -2.09/-0.26/41, 3.04/-0.2/42, 0.53/-0.6/43, -1.33/-0.25/44, -1.62/-0.04/45, -0.27/-0.47/46, -0.99/0.25/47, -2.18/0.66/48, 2.63/-0.15/49, -4.27/-0.68/50, -1.5/-0.23/51, -1.9/0.55/52, 1.95/0.29/53, -1.41/0.27/54, -0.0/0.04/55, 0.94/0.9/56, -2.88/-0.05/57, -3.61/0.19/58, 0.44/0.69/59, 1.15/-0.47/60, -2.49/0.56/61, -4.61/0.31/62, -1.83/-0.08/63, 0.07/-0.38/64, -1.56/-0.03/65, 3.46/0.21/66, -1.59/-0.01/67, -1.6/0.05/68, -2.07/-0.11/69, 3.55/-0.4/70, 1.57/-0.09/71, 1.39/-0.04/72, -0.08/0.01/73, 2.81/0.33/74, 0.42/0.46/75, 2.38/0.35/76, 2.46/-0.42/77, 3.43/-0.37/78, -0.23/0.22/79, -4.17/0.02/80, 2.13/0.07/81, 1.6/-0.16/82, -3.09/0.03/83, -2.39/-0.09/84, -1.73/0.07/85, -1.65/-0.14/86, 4.56/-0.0/87, -0.38/0.4/88, 1.0/0.45/89, 0.83/0.12/90, -0.44/0.45/91, 0.67/0.01/92, 4.2/-0.66/93, -1.25/0.27/94, -1.63/-0.22/95, 1.23/0.02/96, 1.43/-0.2/97, 0.01/-0.16/98, -1.99/-0.31/99
            } {
                % \draw [fill = red] (\x, \y) circle (1mm); 
                % \draw [fill = red] (\x-2, \y+2) circle (1mm); 
                \tkzDefPoint(\x, \y){x\z}
                \draw [fill = red!60] (\x, \y) circle (1mm); 
                \tkzDefPointBy[projection=onto B--A](x\z)
                \tkzGetPoint{K\z}
                \tkzDrawLines[add = 0 and 0, ultra thin, gray, opacity = .3](x\z,K\z)
                \draw [fill = red!60] (K\z) circle (1mm); 

                }
        \end{scope}

        \draw[color=orange!70!black,,domain=-3:3, samples = 100, very thick] plot (\normaltwo) node[right] {};
        % \draw[->, thick] (-2,-2) -- (2,-2) node[right] {};
        % \draw[->, thick] (-1,-3) -- (-1,2) node[right] {};
        % \draw[->, green!80!black, very thick] (-1, -2) --(0, 0) node[right] {};
        % \node [scale = 1.5] at (1, -1.5) {$\mathbf{X}$};
        % \node [scale = 1.25] at (0, 2.5) {1. Find mean vector};
    \end{scope}

   


    

\end{tikzpicture}
\end{document}